package MyApp::Email::Template::EmailVerification;

use Moose;
use utf8;

use namespace::autoclean;
#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#
# custom module                                                                    #
#----------------------------------------------------------------------------------#
use MyApp::Email::Template::Common;
#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#
#remove later
use Data::Dumper;

#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#
has 'common' => (
    is            => 'ro',
    isa           => 'MyApp::Email::Template::Common',
    default       => sub { MyApp::Email::Template::Common->new },
    lazy          => 1,
);

#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#

sub build_template {
    my ( $self, $data, $conf ) = @_;

    my $template = $self->common->header($data, $conf );
    
    
    $template .= $self->_email_verification_template($data, $conf);

    $template .= $self->common->footer($data, $conf);

    my $subject = 'Verification EMAIL for TEST';


    return ($template,$subject);
}
#----------------------------------------------------------------------------------#
# template goes here
#----------------------------------------------------------------------------------#
sub _email_verification_template {
    my ( $self, $data, $conf ) = @_;


    my $template_body = <<TEMPLATE;


    <b>OTP</b>   :- $data->{raw_otp}
    <b>TOKEN</b> :- $data->{raw_token}





TEMPLATE


    return $template_body;

}
#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#

__PACKAGE__->meta->make_immutable;

#----------------------------------------------------------------------------------#
#----------------------------------------------------------------------------------#

1;
